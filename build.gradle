plugins {
    id "com.gradleup.shadow" version "8.3.8" apply false
    id "net.neoforged.moddev" version "2.0.105" apply false
    id "fabric-loom" version "1.8-SNAPSHOT" apply false
}

allprojects {
    repositories {
        mavenCentral()
        maven {
            name = "IntelliJ Release"
            url = "https://www.jetbrains.com/intellij-repository/releases"
        }
        maven {
            name = "Fabric"
            url = "https://maven.fabricmc.net/"
        }
    }
}

subprojects {
    configurations.configureEach {
        resolutionStrategy {
            force "org.slf4j:slf4j-api:2.0.17"
            force "com.fasterxml.jackson.core:jackson-core:2.19.2"
            force "com.fasterxml.jackson.core:jackson-databind:2.19.2"
            force "com.fasterxml.jackson.core:jackson-annotations:2.19.2"
        }
    }
}

// Skip the problematic afterEvaluate for now to allow basic compilation
// project.afterEvaluate {
//     delete file("build")
// }
